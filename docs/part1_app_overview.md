# Part 1: Laravelãƒ»Artisanãƒ»MVC

## Laravelæ¦‚è¦

PHPã®é–‹ç™ºç’°å¢ƒã§ä½¿ç”¨ã§ãã‚‹ä»£è¡¨çš„ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ã€‚  
2025/05ç¾åœ¨ã§ã‚‚é–‹ç™ºãŒç¶šã‘ã‚‰ã‚Œã¦ãŠã‚Šã€ã‚·ã‚§ã‚¢æ•°ãƒˆãƒƒãƒ—ã§å°†æ¥æ€§ã‚‚é«˜ã„ã€‚  
MVCãƒ¢ãƒ‡ãƒ«ã‚’æ¡ç”¨ã—ã¦ãŠã‚Šã€è²¬å‹™ã®åˆ†æ‹…ãŒã•ã‚Œã¦ã„ã‚‹ã€‚  
å°è¦æ¨¡ã€œå¤§è¦æ¨¡æ¡ˆä»¶ã«ã‚‚å¯¾å¿œå¯èƒ½ã€‚  
ä»–ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯(ä¾‹ãˆã°Ruby on Rails)ã‚’è§¦ã£ãŸã“ã¨ãŒã‚ã‚‹äººã§ã‚ã‚Œã°å­¦ç¿’ã‚³ã‚¹ãƒˆã¯ä½ã„ã¨æ€ã‚ã‚Œã‚‹ã€‚  
ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã¨ã„ã£ãŸåŸºæœ¬ã®æ©Ÿèƒ½ã‚’ä½œã‚‹å ´åˆã€å¤–éƒ¨ã§ã¯ã‚ã‚‹ãŒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè±Šå¯Œã«å­˜åœ¨ã—ã¦ã„ã‚‹ã®ã§ã€è‡ªå‰å®Ÿè£…ãŒå¿…è¦ãªãæ‹¡å¼µã®ã¿ã§äº‹è¶³ã‚Šã‚‹ã“ã¨ãŒå¤šã„ã®ã§ã€ã‚³ã‚¹ãƒˆãŒä¸‹ãŒã‚‹ã€‚  
ã¾ãŸã€ç‹¬è‡ªã®CLIãƒ„ãƒ¼ãƒ«ãŒå¼·åŠ›ã§é–‹ç™ºãŒã—ã‚„ã™ã„ã€‚  
è©³ç´°ã¯ä»¥ä¸‹ã«è¨˜è¼‰ã€‚


## MVCã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

Laravelã¯MVCãƒ¢ãƒ‡ãƒ«ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã€‚  
ãã‚Œãã‚Œã®è²¬å‹™ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚

- **Model**ï¼šEloquent ORMã§DBã¨é€£æº
- **View**ï¼šBladeãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ / ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹
- **Controller**ï¼šHTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†ãƒ»Modelã¨Viewã®ä»²ä»‹

å®Ÿéš›ã«ã¯ãƒ«ãƒ¼ã‚¿ãƒ¼ã®æ¦‚å¿µãŒå…¥ã‚‹ã€‚  
ã¾ãŸã€è²¬å‹™ã®åˆ†æ‹…ã¨ã—ã¦serviceç­‰ã®æ¦‚å¿µã‚‚å…¥ã‚‹ã“ã¨ãŒå¤šã„ã€‚  
æŸ”è»Ÿæ€§ã¯é«˜ã„ã‚‚ã®ã®ã€è²¬å‹™ã‚’æ­£ã—ãåˆ†ã‘ãªã„ã¨ãƒ•ã‚¡ãƒƒãƒˆã«ãªã‚‹ã®ã§æ³¨æ„ãŒå¿…è¦ã€‚  
æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ä»¥ä¸‹ã®æ§‹é€   

### ğŸ”¹ Modelï¼ˆEloquent ORMï¼‰

- `Question`, `Choice` ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©
- `Question hasMany Choice`ã€`Choice belongsTo Question` ã®é–¢ä¿‚ã‚’å®šç¾©
- ã‚¹ã‚³ãƒ¼ãƒ—ã‚„ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦åŠ¹ç‡çš„ã«ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’è¡Œã†

```php
// Question.php
public function choices()
{
    return $this->hasMany(Choice::class);
}
```

### ğŸ”¹ Viewï¼ˆBlade / Vueï¼‰

- è³ªå•ä¸€è¦§ã‚„æŠ•ç¨¿ç”»é¢ã¯ Blade ã§æ§‹æˆ
- æŠ•ç¥¨å‡¦ç†éƒ¨åˆ†ã®ã¿ Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã£ã¦éåŒæœŸå‡¦ç†ã«å¯¾å¿œ

### ğŸ”¹ Controller

ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã™ã‚‹ã€‚

`php artisan make:controller {$ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©å}`
`php artisan make:controller ApiQuestionController --api --model=Question`

ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç­‰ã¯ä»¥ä¸‹ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«
https://thousand-tech.blog/php/laravel/artisan/cheatsheet/make-controller/

---

## Artisan CLI

LaravelãŒç‹¬è‡ªã«ç”¨æ„ã—ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã€‚  
ã‹ãªã‚Šå¼·åŠ›ãªãŸã‚ã€ä½¿ç”¨ã™ã¹ãã¨ã“ã‚ã§ã¯ä½¿ã†ã€‚  
ä½¿ç”¨ã§ãã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã§ç¢ºèªå¯èƒ½ã§ã€ç‹¬è‡ªã«ä½œæˆã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚‚è¼‰ã‚‹ã®ãŒç‰¹å¾´ 

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ä¾‹

```bash
php artisan list                         # å…¨ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§
php artisan make:controller HogeController
php artisan make:model Hoge -mfs         # Model + Migration + Factory + Seeder ä½œæˆ
php artisan route:list                   # ãƒ«ãƒ¼ãƒˆå®šç¾©ã®ç¢ºèª
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

### ã‚¹ã‚¿ãƒ–ã«ã¤ã„ã¦

makeã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã™ã‚‹éš›ã«ã€ã‚¹ã‚¿ãƒ–ã‚’åŸºã«ä½œæˆã‚’è¡Œã†ã€‚  
ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã«ã¦stubs/ä»¥ä¸‹ã«ã‚¹ã‚¿ãƒ–ãŒä½œæˆã•ã‚Œã‚‹ã€‚  
`php artisan stub:publish`


## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

å‰è¿°ã—ãŸã¨ãŠã‚Šã€Laravelã§ã¯Composerãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åˆ©ç”¨ãŒå®¹æ˜“ã§ã‚ã‚‹ã€‚  
